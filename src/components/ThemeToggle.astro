---

---

<button
    id="theme-toggle"
    type="button"
    class="relative inline-flex h-10 w-20 items-center rounded-full border-2 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 bg-border hover:bg-border/80"
    aria-label="Toggle theme"
>
    <!-- Toggle Track -->
    <span class="sr-only">Toggle theme</span>
    
    <!-- Sliding Button with Icons -->
    <span
        id="toggle-slider"
        class="absolute inline-flex h-8 w-8 items-center justify-center rounded-full bg-primary shadow-lg transform transition-transform duration-200 ease-in-out translate-x-0.5"
    >
        <!-- Sun Icon (Shows when light mode is active) -->
        <svg
            id="sun-icon"
            class="h-5 w-5 text-primary-foreground"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
        >
            <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
            ></path>
        </svg>
        <!-- Moon Icon (Shows when dark mode is active) -->
        <svg
            id="moon-icon"
            class="h-5 w-5 text-primary-foreground hidden"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
        >
            <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
            ></path>
        </svg>
    </span>
</button>

<script is:inline>
    const updateToggle = () => {
        const isDark = document.documentElement.classList.contains("dark");
        const sunIcon = document.getElementById("sun-icon");
        const moonIcon = document.getElementById("moon-icon");
        const slider = document.getElementById("toggle-slider");
        
        if (isDark) {
            // Dark mode: show moon icon, slide to right
            sunIcon?.classList.add("hidden");
            moonIcon?.classList.remove("hidden");
            slider?.classList.remove("translate-x-0.5");
            slider?.classList.add("translate-x-[2.625rem]"); // Move to right side
        } else {
            // Light mode: show sun icon, slide to left
            sunIcon?.classList.remove("hidden");
            moonIcon?.classList.add("hidden");
            slider?.classList.remove("translate-x-[2.625rem]");
            slider?.classList.add("translate-x-0.5");
        }
    };
    
    const handleToggleClick = () => {
        const element = document.documentElement;
        element.classList.toggle("dark");

        const isDark = element.classList.contains("dark");
        localStorage.setItem("theme", isDark ? "dark" : "light");
        
        updateToggle();
    };

    document
        .getElementById("theme-toggle")
        ?.addEventListener("click", handleToggleClick);
    
    // Initialize toggle state on page load
    updateToggle();
</script>
